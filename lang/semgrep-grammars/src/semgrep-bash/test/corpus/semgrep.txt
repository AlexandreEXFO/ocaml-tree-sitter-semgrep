======================================================================
Statement ellipsis
======================================================================

...
cat ...
... --force

---

(program
  (command (command_name (semgrep_ellipsis)))
  (command (command_name (word)) (semgrep_ellipsis))
  (command (command_name (semgrep_ellipsis)) (word)))

======================================================================
Metavariables
======================================================================

echo $FOO
$FOO

---

(program
  (command
    (command_name (word))
    (simple_expansion (variable_name)))
  (command (command_name (simple_expansion (variable_name)))))

======================================================================
All-caps shell variables
======================================================================

echo "${BAR}"
echo ${BAR}
${BAR}

---

(program
  (command (command_name (word)) (string (expansion (variable_name))))
  (command
    (command_name (word))
    (expansion (variable_name)))
  (command (command_name (expansion (variable_name)))))

======================================================================
Metavariable matching a variable
======================================================================

echo ${$X}
echo ${$X#/}

---

(program
  (command
    (command_name (word))
    (expansion (semgrep_metavariable)))
  (command
    (command_name (word))
    (expansion
      (semgrep_metavariable)
      (word))))

======================================================================
Match any variable expansion
======================================================================

echo ${...}
echo "${...}"

---

(program
  (command
    (command_name (word))
    (expansion (semgrep_ellipsis)))
  (command (command_name (word)) (string (expansion (semgrep_ellipsis)))))


======================================================================
Case (switch) with metavariables and ellipses
======================================================================

case $X in
  a)
    ;;
  *)
esac

---

(program
  (case_statement
    (simple_expansion (variable_name))
    (case_item (word))
    (case_item (word))))

======================================================================
For loop with metavariable and ellipsis
======================================================================

for $X in ...; do
  ...
done

---

(program
  (for_statement
    (semgrep_metavariable)
    (semgrep_ellipsis)
    (do_group (command (command_name (semgrep_ellipsis))))))

======================================================================
Function definition
======================================================================

function $FOO() {
 ...
}

---

(program
  (function_definition
    (semgrep_metavariable)
    (compound_statement (command (command_name (semgrep_ellipsis))))))


======================================================================
Metavariable in declaration
======================================================================

declare -r $VAR

---

(program
  (declaration_command
    (word)
    (semgrep_metavariable)))

======================================================================
Metavariable in assignment
======================================================================

$MUT=x
$MUT+=x

---

(program
  (variable_assignment
    (semgrep_metavar_eq)
    (word))
  (variable_assignment
    (semgrep_metavar_pluseq)
    (word)))

======================================================================
Environment variable assignment before command
======================================================================

${PATH}=/bin command arg

---

(program
  (command
    (command_name
      (concatenation
        (expansion
          (variable_name))
        (word)))
    (word)
    (word)))

======================================================================
Metavariable in assignment before command
======================================================================

$X=42 Y=x command arg
$X= 42 command

---

(program
  (command
    (variable_assignment
      (semgrep_metavar_eq)
      (word))
    (variable_assignment
      (variable_name)
      (word))
    (command_name
      (word))
    (word))
  (command
    (variable_assignment
      (semgrep_metavar_eq))
    (command_name
      (word))
    (word)))

======================================================================
Array declaration and assignment (TODO)
======================================================================

declare -a $ARR

---

(program (declaration_command (word) (semgrep_metavariable)))
